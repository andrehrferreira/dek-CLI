{"version":3,"sources":["../src/init.js"],"names":["PackageJSON","require","path","join","process","cwd","prompt","inquirer","createPromptModule","registerPrompt","i18n","configure","locales","defaultLocale","directory","Init","type","name","choices","message","validate","value","setLocale","default","__","length","then","itemType","rootPath","projectSettings","suggestOnly","Object","keys","_","merge","projectSettings2","settings","createProject","self","directoryExists","console","log","chalk","green","fs","mkdir","recursive","err","reject","cloneSkeleton","red","repository","url","replace","unlinkGitAndPackage","unlinkSync","e","createGitAndPackage","packageJSONTemplate","homepage","bugs","webpack","scripts","build","writeFileSync","JSON","stringify","stdout","stderr","write","devmode","installDevMode","installWebpack","cliDevMode","devMode","WebpackConfigTemplate","filePath","statSync","isDirectory","yellow","argv","init","h","Help","Prompt"],"mappings":"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","file":"init.js","sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\n\nimport 'babel-polyfill';\nimport minimist from \"minimist\";\nimport chalk from \"chalk\";\nimport inquirer from \"inquirer\";\nimport i18n from \"i18n\";\nimport _ from \"lodash\";\nimport gitClone from \"git-clone\";\nimport rimraf from \"rimraf\";\nimport { exec } from \"child_process\";\n\nimport { installPlugins } from \"./plugins\";\nimport Install from \"./install\";\n\nconst PackageJSON = require(path.join(process.cwd(), \"package\"));\n\nlet prompt = inquirer.createPromptModule();\ninquirer.registerPrompt('fuzzypath', require('inquirer-fuzzy-path'));\n\ni18n.configure({\n    locales: ['en', 'ptBR'],\n    defaultLocale: 'en',\n    directory: path.join(process.cwd(), \"locales\")\n});\n\nexport class Init{\n    Prompt(){\n        prompt([\n            {\n                type: \"list\",\n                name: \"lang\",\n                choices: [\"en\", \"ptBR\"],\n                message: \"What is your language?\",\n                validate: (value) => {\n                    i18n.setLocale(value);\n                    true;\n                }\n            },\n            {\n                type: \"input\",\n                name: \"name\",\n                default: i18n.__(\"myproject\"),\n                message: i18n.__(\"What is the name of the project?\"),\n                validate: (value) => {\n                    if (value.length)\n                        return true;\n                    else\n                        return i18n.__(\"Please set a valid value\");\n                }\n            },\n            {\n                type: \"input\",\n                name: \"version\",\n                default: \"1.0.0\",\n                message: i18n.__(\"What is the version of the project?\"),\n                validate: (value) => {\n                    if (value.length)\n                        return true;\n                    else\n                        return i18n.__(\"Please set a valid value\");\n                }\n            },\n        ]).then(projectSettings => {\n            prompt([{\n                type: 'input',\n                name: 'path',\n                itemType: 'directory',\n                rootPath: process.cwd(),\n                message: i18n.__(\"Directory for your project:\",),\n                default: process.cwd() + \"/\" + projectSettings.name,\n                suggestOnly: true\n            }, {\n                type: 'input',\n                name: 'repository',\n                message: i18n.__(\"What is the repository of this project?\"),\n            }, {\n                type: 'confirm',\n                name: 'devmode',\n                message: i18n.__(\"Do you want to install components for development mode?\"),\n            }, {\n                type: 'confirm',\n                name: 'webpack',\n                message: i18n.__(\"Do you want to install Webpack to optimize your frontend?\"),\n            }, {\n                type: 'checkbox',\n                name: 'plugins',\n                message: i18n.__(\"Select plugins for your project:\"),\n                choices: Object.keys(PackageJSON[\"@dek/plugins\"])\n            }]).then(projectSettings2 => {\n                projectSettings = _.merge(projectSettings, projectSettings2);\n                this.settings = projectSettings;\n                this.createProject();\n            });;\n        });\n    }\n\n    createProject(){\n        var self = this;\n\n        if(!this.directoryExists(self.settings.path)){\n            console.log(chalk.green(i18n.__(\"Creating directory \") + self.settings.path));\n\n            fs.mkdir(self.settings.path, { recursive: true }, (err) => {\n                if(err) reject(err);\n                else self.cloneSkeleton(self);\n            });\n        }\n        else{\n            console.log(chalk.red((i18n.__(\"It was not possible to create the project because the directory already exists\"))));\n        }\n    }\n\n    cloneSkeleton(self){\n        console.log(chalk.green(i18n.__(\"Clone boorstrap \") + PackageJSON.repository.url.replace(\"CLI\", \"boostrap\")));\n\n        gitClone(PackageJSON.repository.url.replace(\"CLI\", \"boostrap\"), self.settings.path, err => {\n            if(err) reject(chalk.red(err));\n            else self.unlinkGitAndPackage(self);\n        });\n    }\n\n    unlinkGitAndPackage(self){\n        try{\n            console.log(chalk.green(i18n.__(\"Unlink package.json\")));\n            fs.unlinkSync(path.join(self.settings.path, \"package.json\"));\n        } catch(e) { /*console.log(chalk.red(e.message));*/ }\n\n        console.log(chalk.green(i18n.__(\"Unlink \" + path.join(self.settings.path, \".git\"))));\n\n        rimraf(path.join(self.settings.path, \".git\"), () => {\n            self.createGitAndPackage(self);\n        });\n    }\n\n    createGitAndPackage(self){\n        console.log(chalk.green(i18n.__(\"Creating package.json ...\")));\n\n        console.log(path.join(process.cwd(), \"templates\", \"package.json.js\"));\n        var packageJSONTemplate = require(path.join(process.cwd(), \"templates\", \"package.json.js\"));\n        console.log(packageJSONTemplate);\n        packageJSONTemplate = packageJSONTemplate(self);\n\n        if(self.settings.repository != \"\"){\n            packageJSONTemplate.homepage = self.settings.repository;\n\n            packageJSONTemplate.repository = {\n                \"type\": \"git\",\n                \"url\": self.settings.repository\n            };\n\n            packageJSONTemplate.bugs = {\n                \"url\": self.settings.repository + \"/issues\"\n            }\n        }\n\n        console.log(packageJSONTemplate);\n\n        if(this.settings.webpack)\n            packageJSONTemplate.scripts.build += \" && webpack --mode production --progress\";\n\n        fs.writeFileSync(path.join(self.settings.path, \"package.json\"), JSON.stringify(packageJSONTemplate, null, 4));\n\n        if(self.settings.repository != \"\"){\n            console.log(chalk.green(i18n.__(\"Creating .git ...\")));\n\n            exec(\"git init\", { cwd: self.settings.path }, (err, stdout, stderr) => {\n                process.stdout.write(stdout + '\\n');\n                process.stderr.write(stderr + '\\n');\n\n                if(err) console.log(chalk.red(err));\n                else if(stderr) console.log(chalk.red(stderr));\n                else{\n                    exec(\"git remote add origin \" + self.settings.repository, { cwd: self.settings.path }, (err, stdout, stderr) => {\n                        process.stdout.write(stdout + '\\n');\n                        process.stderr.write(stderr + '\\n');\n\n                        if(err) console.log(chalk.red(err));\n                        else if(stderr) console.log(chalk.red(stderr));\n                        else{\n                            if(this.settings.devmode)\n                                self.installDevMode(self);\n                            else\n                                installPlugins(self.settings);\n\n                            if(this.settings.webpack)\n                                self.installWebpack(self);\n                        }\n                    });\n                }\n            });\n        }\n        else{\n            if(this.settings.devmode)\n                self.installDevMode(self);\n            else\n                installPlugins(self.settings);\n\n            if(this.settings.webpack)\n                self.installWebpack(self);\n        }\n    }\n\n    installDevMode(self){\n        console.log(chalk.green(i18n.__(\"Install dev mode ...\")));\n\n        exec(PackageJSON[\"@dek/scripts\"].cliDevMode, { cwd: self.settings.path }, (err, stdout, stderr) => {\n            process.stdout.write(stdout + '\\n');\n            process.stderr.write(stderr + '\\n');\n        });\n\n        try{\n            exec(PackageJSON[\"@dek/scripts\"].devMode, { cwd: self.settings.path }, (err, stdout, stderr) => {\n                process.stdout.write(stdout + '\\n');\n                process.stderr.write(stderr + '\\n');\n\n                if(err) console.log(chalk.red(err));\n                else if(stderr) console.log(chalk.red(stderr));\n                else {\n                    installPlugins(self.settings);\n                }\n            });\n        } catch(e){\n            console.log(chalk.red(e.message));\n            installPlugins(self.settings);\n        }\n    }\n\n    installWebpack(self){\n        console.log(chalk.green(i18n.__(\"Install Webpack ...\")));\n\n        exec(PackageJSON[\"@dek/scripts\"].webpack, { cwd: self.settings.path }, (err, stdout, stderr) => {\n            process.stdout.write(stdout + '\\n');\n            process.stderr.write(stderr + '\\n');\n\n            var WebpackConfigTemplate = require(path.join(process.cwd(), \"templates\", \"webpack.config.js\"))(self);\n            fs.writeFileSync(path.join(self.settings.path, \"webpack.config.js\"), WebpackConfigTemplate(self));\n        });\n    }\n\n    directoryExists(filePath){\n        try {\n            return fs.statSync(filePath).isDirectory();\n        }\n        catch (err) {\n            return false;\n        }\n    }\n\n    Help(){\n        console.log(chalk.yellow(\"Very simple 'dek init' only\"));\n    }\n}\n\nexport default async (argv) => {\n    let init = new Init();\n\n    if(argv.h)\n        init.Help();\n    else\n        init.Prompt();\n}\n"]}